Metadata-Version: 2.4
Name: doosan_ik_pick_place
Version: 1.0.0
Summary: E0509 robot manipulation environments for Isaac Lab.
Home-page: https://github.com/isaac-sim/IsaacLab
Author: Isaac Lab Developers
Maintainer: Isaac Lab Developers
License: BSD-3-Clause
Keywords: robotics,rl
Classifier: Development Status :: 4 - Beta
Classifier: Natural Language :: English
Classifier: Programming Language :: Python :: 3.7
Classifier: Programming Language :: Python :: 3.8
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Science/Topic :: Scientific/Engineering
Requires-Python: >=3.7
Description-Content-Type: text/markdown
Requires-Dist: numpy
Requires-Dist: torch>=1.13.1
Dynamic: author
Dynamic: classifier
Dynamic: description
Dynamic: description-content-type
Dynamic: home-page
Dynamic: keywords
Dynamic: license
Dynamic: maintainer
Dynamic: requires-dist
Dynamic: requires-python
Dynamic: summary

# E0509 Pick and Place Environment with IK Control

DOOSAN E0509 ë¡œë´‡ì„ ìœ„í•œ ê°•í™”í•™ìŠµ í™˜ê²½ìœ¼ë¡œ, cabinet í”„ë¡œì íŠ¸ì™€ ë™ì¼í•œ ë°©ì‹ìœ¼ë¡œ IK ì œì–´ë¥¼ í†µí•©í–ˆìŠµë‹ˆë‹¤.

## ğŸš€ í™˜ê²½ êµ¬ì¡°

### ì œì–´ ë°©ì‹ (3ê°€ì§€)

1. **ê´€ì ˆ ì œì–´** (`joint_pos_env_cfg.py`)
   - ì§ì ‘ ê´€ì ˆ ê°ë„ ì œì–´
   - ì•¡ì…˜ ê³µê°„: 6ì°¨ì› (arm) + 4ì°¨ì› (gripper)

2. **ì ˆëŒ€ IK ì œì–´** (`ik_abs_env_cfg.py`)
   - ì ˆëŒ€ ì¢Œí‘œê³„ì—ì„œ ì—”ë“œì´í™í„° ìœ„ì¹˜/ìì„¸ ì œì–´
   - ì•¡ì…˜ ê³µê°„: 6ì°¨ì› (pose) + 4ì°¨ì› (gripper)

3. **ìƒëŒ€ IK ì œì–´** (`ik_rel_env_cfg.py`)
   - ì¦ë¶„ì  ì—”ë“œì´í™í„° ì›€ì§ì„ ì œì–´
   - ì•¡ì…˜ ê³µê°„: 6ì°¨ì› (pose delta) + 4ì°¨ì› (gripper)

### ë“±ë¡ëœ í™˜ê²½ë“¤

```python
# Joint Position Control
"Isaac-Pick-Place-E0509-v0"
"Isaac-Pick-Place-E0509-Play-v0"

# Absolute IK Control  
"Isaac-Pick-Place-E0509-IK-Abs-v0"
"Isaac-Pick-Place-E0509-IK-Abs-Play-v0"

# Relative IK Control
"Isaac-Pick-Place-E0509-IK-Rel-v0" 
"Isaac-Pick-Place-E0509-IK-Rel-Play-v0"
```

## ğŸ”§ ì£¼ìš” íŠ¹ì§•

### IK ì œì–´ í†µí•©
- **ì°¨ë¶„ IK (Differential IK)**: ë§¤ timestepë§ˆë‹¤ ì‘ì€ ì¦ë¶„ ì›€ì§ì„
- **DLS ì†”ë²„**: ì•ˆì •ì ì¸ íŠ¹ì´ì  ì²˜ë¦¬
- **ë†’ì€ PD ê²Œì¸**: IK ì¶”ì  ì„±ëŠ¥ í–¥ìƒ

### FrameTransformer ì„¤ì •
```python
self.scene.ee_frame = FrameTransformerCfg(
    prim_path="{ENV_REGEX_NS}/Robot/base_link",
    target_frames=[
        # TCP (Tool Center Point)
        FrameTransformerCfg.FrameCfg(
            prim_path="{ENV_REGEX_NS}/Robot/link_6",
            name="ee_tcp",
            offset=OffsetCfg(pos=(0.0, 0.0, 0.15)),
        ),
        # Gripper fingers
        ...
    ],
)
```

### ê³„ì¸µì  ì œì–´ êµ¬ì¡°
```
RL ì—ì´ì „íŠ¸ (ê³ ìˆ˜ì¤€ ì •ì±…)
    â†“ 
IK ì†”ë²„ (ì¤‘ê°„ ì œì–´ê¸°) â† IK í™˜ê²½ì—ì„œë§Œ
    â†“
PD ì œì–´ê¸° (ì €ìˆ˜ì¤€ ì œì–´ê¸°)
    â†“
ë¡œë´‡ ê´€ì ˆ
```

## ğŸ¯ ê°•í™”í•™ìŠµê³¼ IKì˜ ê²°í•©

### ì™œ ì´ ë°©ì‹ì´ íš¨ê³¼ì ì¸ê°€?

1. **í•™ìŠµ íš¨ìœ¨ì„±**: ì‘ì—…ê³µê°„ ì œì–´ê°€ ê´€ì ˆ ì œì–´ë³´ë‹¤ ì§ê´€ì 
2. **ì•ˆì •ì„±**: IK ì†”ë²„ê°€ íŠ¹ì´ì ê³¼ ê´€ì ˆ í•œê³„ë¥¼ ìë™ ì²˜ë¦¬
3. **ì „ì´ì„±**: ë‹¤ë¥¸ ë¡œë´‡ìœ¼ë¡œ ì •ì±… ì „ì´ ìš©ì´
4. **ìœ ì—°ì„±**: RLì´ ì—¬ì „íˆ ê²½ë¡œì™€ ì „ëµì„ í•™ìŠµ

### ì‹¤ì œ ë™ì‘ ê³¼ì •

```python
# ë§¤ timestep(0.005ì´ˆ)ë§ˆë‹¤:

# 1. RL ì—ì´ì „íŠ¸ê°€ ì‘ì€ ì›€ì§ì„ ê²°ì •
action = [0.01, -0.02, 0.03, 0.0, 0.1, 0.0]  # [Î”x, Î”y, Î”z, Î”roll, Î”pitch, Î”yaw]

# 2. IK ì†”ë²„ê°€ ê´€ì ˆ ì¦ë¶„ìœ¼ë¡œ ë³€í™˜  
joint_delta = ik_solver.solve(current_pose, action)

# 3. PD ì œì–´ê¸°ê°€ ê´€ì ˆì„ ëª©í‘œë¡œ ì´ë™
new_joint_pos = current_joint_pos + joint_delta

# 4. ë‹¤ìŒ ìŠ¤í…ì—ì„œ RLì´ ìƒˆë¡œìš´ ì•¡ì…˜ ê²°ì •
```

## ğŸ—ï¸ íŒŒì¼ êµ¬ì¡°

```
doosan_pick_place/
â”œâ”€â”€ __init__.py
â”œâ”€â”€ pick_place_env_cfg.py        # ê¸°ë³¸ í™˜ê²½ ì„¤ì •
â”œâ”€â”€ mdp/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ observations.py          # ê´€ì¸¡ í•¨ìˆ˜ë“¤
â”‚   â””â”€â”€ rewards.py              # ë³´ìƒ í•¨ìˆ˜ë“¤
â””â”€â”€ config/
    â””â”€â”€ e0509/
        â”œâ”€â”€ __init__.py         # í™˜ê²½ ë“±ë¡
        â”œâ”€â”€ joint_pos_env_cfg.py  # ê´€ì ˆ ì œì–´
        â”œâ”€â”€ ik_abs_env_cfg.py     # ì ˆëŒ€ IK ì œì–´
        â”œâ”€â”€ ik_rel_env_cfg.py     # ìƒëŒ€ IK ì œì–´
        â””â”€â”€ agents/
            â”œâ”€â”€ __init__.py
            â””â”€â”€ rsl_rl_ppo_cfg.py # PPO ì„¤ì •
```

## ğŸ’¡ ì‚¬ìš© ì˜ˆì‹œ

```python
import gymnasium as gym

# ìƒëŒ€ IK ì œì–´ í™˜ê²½ ìƒì„±
env = gym.make("Isaac-Pick-Place-E0509-IK-Rel-v0", num_envs=1024)

# í•™ìŠµ ë˜ëŠ” í‰ê°€ ì§„í–‰
obs, _ = env.reset()
for _ in range(1000):
    # RL ì—ì´ì „íŠ¸ê°€ ì‘ì—…ê³µê°„ ì¢Œí‘œë¡œ ì•¡ì…˜ ì¶œë ¥
    action = policy(obs)  # 6ì°¨ì›: [Î”x, Î”y, Î”z, Î”roll, Î”pitch, Î”yaw]
    
    # IK ì†”ë²„ê°€ ìë™ìœ¼ë¡œ ê´€ì ˆ ê°ë„ë¡œ ë³€í™˜
    obs, reward, terminated, truncated, info = env.step(action)
```

ì´ë ‡ê²Œ DOOSAN E0509 ë¡œë´‡ë„ cabinet í”„ë¡œì íŠ¸ì™€ ë™ì¼í•œ ë°©ì‹ìœ¼ë¡œ ê°•í™”í•™ìŠµê³¼ IKë¥¼ ê²°í•©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤!
