
============================================================
Logging to: /home/woo/ros2_ws/src/doosan-robot2/isaacsim_connect/e0509_with_env_pick_place/logs/isaac_sim_log_20251210_215356.txt
============================================================


========== Checking Gripper (Detailed) ==========
Current working directory: /home/woo/isaac-sim
Robot USD path: /home/woo/ros2_ws/src/doosan-robot2/isaacsim_connect/e0509_with_env_pick_place/isaac_env/e0509_model.usd

Gripper prim: /World/e0509_model/e0509/gripper
  Valid: True
  Type: Xform
  Has references: True
  Prim stack layers: 2
    Layer 0: /home/woo/ros2_ws/src/doosan-robot2/isaacsim_connect/e0509_with_env_pick_place/isaac_env/e0509_model.usd
    Layer 1: /home/woo/ros2_ws/src/doosan-robot2/isaacsim_connect/e0509_with_env_pick_place/isaac_env/gripper.usd
  Children count: 1
    Child: /World/e0509_model/e0509/gripper/gripper (Type: Xform)
      Sub-children: 4
      First sub-child: /World/e0509_model/e0509/gripper/gripper/Looks

========== Setting Gripper Friction ==========
  ‚úó Finger not found: /World/e0509_model/e0509/gripper/gripper/rh_l1
  ‚úó Finger not found: /World/e0509_model/e0509/gripper/gripper/rh_r1
  ‚úó Finger not found: /World/e0509_model/e0509/gripper/gripper/rh_l2
  ‚úó Finger not found: /World/e0509_model/e0509/gripper/gripper/rh_r2

========== Checking Collision Settings ==========

/World/e0509_model:
  Collision found: /World/e0509_model/e0509/base_link/collisions
  Collision found: /World/e0509_model/e0509/link_1/collisions/mesh_0
  Collision found: /World/e0509_model/e0509/link_1/collisions/mesh_1
  Total collision prims: 20

/World/ikea/nova_carter/move_props:
  Collision found: /World/ikea/nova_carter/move_props/sorting_beaker_red/Geometry/sm_beaker_500ml_a01_01/sm_beaker_500ml_a01_01Shape
  Collision found: /World/ikea/nova_carter/move_props/Cube
  Total collision prims: 2

/World/ikea:
  Collision found: /World/ikea/props/sorting_beaker_red_01/Geometry/sm_beaker_500ml_a01_01/sm_beaker_500ml_a01_01Shape
  Collision found: /World/ikea/props/sorting_beaker_red_02/Geometry/sm_beaker_500ml_a01_01/sm_beaker_500ml_a01_01Shape
  Collision found: /World/ikea/ServingTrolley_C01_01/sm_servingtrolley_c01_frame_01
  Total collision prims: 58

/World/sm_warehouse_a01_h10m_cornerinmirror_01:
  Collision found: /World/sm_warehouse_a01_h10m_cornerinmirror_01/sm_wall_a01_01/sm_wall_a01_molding_01
  Collision found: /World/sm_warehouse_a01_h10m_cornerinmirror_01/sm_wall_a01_01/sm_wall_a01_skirting_01
  Collision found: /World/sm_warehouse_a01_h10m_cornerinmirror_01/sm_wall_a01_01/sm_wall_a01_cornerguard02_01
  Total collision prims: 167

========== Detailed Teddy Bear USD Analysis (Before Reset) ==========

Teddy bear prim: /World/ikea/nova_carter/move_props/teddy_bear
  Valid: True
  Type: Xform
  Has RigidBodyAPI: False
  Has MassAPI: False
  Has CollisionAPI: False
  All applied APIs: []

Teddy bear/geometry/bear prim: /World/ikea/nova_carter/move_props/teddy_bear/geometry/bear
  Valid: True
  Type: Mesh
  Has RigidBodyAPI: False
  Has MassAPI: True
  Has CollisionAPI: False
  Has MeshCollisionAPI: False
  All applied APIs: ['ShadowAPI', 'PhysxDeformableBodyAPI', 'PhysxDeformableAPI', 'PhysxCollisionAPI', 'PhysicsMassAPI']

========== Comparing with Working Object (Cube) ==========
Cube prim: /World/ikea/nova_carter/move_props/Cube
  Type: Cube
  Has RigidBodyAPI: False
  Has MassAPI: False
  Has CollisionAPI: True
  All applied APIs: ['PhysicsCollisionAPI', 'PhysxCollisionAPI']

========== Physics Scene Setup ==========
  ‚úì Physics scene ready at /physicsScene
robot.dof_names after initialize: ['joint_1', 'joint_2', 'joint_3', 'joint_4', 'joint_5', 'joint_6', 'rh_l1', 'rh_r1_joint', 'rh_l2', 'rh_r2']
num_dof: 10
robot.get_joint_positions() after init: [0. 0. 0. 0. 0. 0. 0. 0. 0. 0.]

========== Activating PhysxDeformableBodyAPI for Teddy Bear ==========

  Converting Teddy Bear from Deformable to Rigid Body...
  Removing PhysxDeformableBodyAPI from /World/ikea/nova_carter/move_props/teddy_bear/geometry/bear...
  ‚úì DeformableBodyAPI removed
  Adding RigidBodyAPI to geometry/bear (where collision happens)...
  ‚úì RigidBodyAPI added to /World/ikea/nova_carter/move_props/teddy_bear/geometry/bear
  ‚úì CollisionAPI added to geometry mesh
  Setting collision mesh on geometry mesh: /World/ikea/nova_carter/move_props/teddy_bear/geometry/bear
  ‚úì MeshCollisionAPI added with convexDecomposition
  Setting friction properties on geometry mesh...
  ‚úì Friction: static=1.5, dynamic=1.5, restitution=0.0
  ‚úì Teddy Bear geometry/bear converted to RigidBody (no longer deformable)

Teddy bear geometry/bear is now a RigidBody at: /World/ikea/nova_carter/move_props/teddy_bear/geometry/bear
  ‚úì RigidBodyAPI present on geometry mesh
  ‚úì CollisionAPI present on geometry mesh
  ‚úì Can be grasped with Fixed Joint (connected to geometry mesh)
  ‚úì Mass = 0.10000000149011612 kg

  RigidBody setup complete on geometry mesh!

  Running physics steps to stabilize...
  Physics stabilization complete!

========== Setting up Surface Gripper ==========

========== Teddy Bear Structure Debug ==========

teddy_bear (parent):
  Type: Xform
  Has RigidBodyAPI: False
  Has CollisionAPI: False
  Applied APIs: []

teddy_bear/geometry:
  Type: Xform
  Has RigidBodyAPI: False
  Has CollisionAPI: False
  Applied APIs: []

teddy_bear/geometry/bear:
  Type: Mesh
  Has RigidBodyAPI: True
  Has CollisionAPI: True
  Applied APIs: ['PhysicsRigidBodyAPI', 'PhysicsCollisionAPI', 'PhysicsMeshCollisionAPI', 'ShadowAPI', 'PhysxCollisionAPI', 'PhysicsMassAPI']

========== Inspecting Gripper Structure ==========

üîç Exploring gripper structure from: /World/e0509_model/e0509/gripper
    ‚îú‚îÄ joints (Type: Scope)
    ‚îÇ  Path: /World/e0509_model/e0509/gripper/gripper/joints
    ‚îÇ  RigidBody: False, Collision: False
      ‚îú‚îÄ rh_l1 (Type: PhysicsRevoluteJoint)
      ‚îÇ  Path: /World/e0509_model/e0509/gripper/gripper/joints/rh_l1
      ‚îÇ  RigidBody: False, Collision: False
      ‚îú‚îÄ rh_l2 (Type: PhysicsRevoluteJoint)
      ‚îÇ  Path: /World/e0509_model/e0509/gripper/gripper/joints/rh_l2
      ‚îÇ  RigidBody: False, Collision: False
      ‚îú‚îÄ rh_r1_joint (Type: PhysicsRevoluteJoint)
      ‚îÇ  Path: /World/e0509_model/e0509/gripper/gripper/joints/rh_r1_joint
      ‚îÇ  RigidBody: False, Collision: False
      ‚îú‚îÄ rh_r2 (Type: PhysicsRevoluteJoint)
      ‚îÇ  Path: /World/e0509_model/e0509/gripper/gripper/joints/rh_r2
      ‚îÇ  RigidBody: False, Collision: False
        ‚îú‚îÄ rh_p12_rn_base (Type: Xform)
        ‚îÇ  Path: /World/e0509_model/e0509/gripper/gripper/base/end_effector_flange_link/rh_p12_rn_base
        ‚îÇ  RigidBody: False, Collision: False
    ‚îú‚îÄ hand (Type: Xform)
    ‚îÇ  Path: /World/e0509_model/e0509/gripper/gripper/hand
    ‚îÇ  RigidBody: False, Collision: False
      ‚îú‚îÄ rh_p12_rn_l1 (Type: Xform)
      ‚îÇ  Path: /World/e0509_model/e0509/gripper/gripper/hand/rh_p12_rn_l1
      ‚îÇ  RigidBody: True, Collision: False
      ‚îÇ  ‚≠ê PHYSICS ENABLED
        ‚îú‚îÄ visuals (Type: Xform)
        ‚îÇ  Path: /World/e0509_model/e0509/gripper/gripper/hand/rh_p12_rn_l1/visuals
        ‚îÇ  RigidBody: False, Collision: False
          ‚îú‚îÄ l1 (Type: Xform)
          ‚îÇ  Path: /World/e0509_model/e0509/gripper/gripper/hand/rh_p12_rn_l1/visuals/l1
          ‚îÇ  RigidBody: False, Collision: False
            ‚îú‚îÄ mesh (Type: Mesh)
            ‚îÇ  Path: /World/e0509_model/e0509/gripper/gripper/hand/rh_p12_rn_l1/visuals/l1/mesh
            ‚îÇ  RigidBody: False, Collision: False
        ‚îú‚îÄ collisions (Type: Xform)
        ‚îÇ  Path: /World/e0509_model/e0509/gripper/gripper/hand/rh_p12_rn_l1/collisions
        ‚îÇ  RigidBody: False, Collision: False
          ‚îú‚îÄ l1 (Type: Xform)
          ‚îÇ  Path: /World/e0509_model/e0509/gripper/gripper/hand/rh_p12_rn_l1/collisions/l1
          ‚îÇ  RigidBody: False, Collision: False
            ‚îú‚îÄ mesh (Type: Mesh)
            ‚îÇ  Path: /World/e0509_model/e0509/gripper/gripper/hand/rh_p12_rn_l1/collisions/l1/mesh
            ‚îÇ  RigidBody: False, Collision: True
            ‚îÇ  ‚≠ê PHYSICS ENABLED
      ‚îú‚îÄ rh_p12_rn_l2 (Type: Xform)
      ‚îÇ  Path: /World/e0509_model/e0509/gripper/gripper/hand/rh_p12_rn_l2
      ‚îÇ  RigidBody: True, Collision: False
      ‚îÇ  ‚≠ê PHYSICS ENABLED
        ‚îú‚îÄ visuals (Type: Xform)
        ‚îÇ  Path: /World/e0509_model/e0509/gripper/gripper/hand/rh_p12_rn_l2/visuals
        ‚îÇ  RigidBody: False, Collision: False
          ‚îú‚îÄ l2 (Type: Xform)
          ‚îÇ  Path: /World/e0509_model/e0509/gripper/gripper/hand/rh_p12_rn_l2/visuals/l2
          ‚îÇ  RigidBody: False, Collision: False
            ‚îú‚îÄ mesh (Type: Mesh)
            ‚îÇ  Path: /World/e0509_model/e0509/gripper/gripper/hand/rh_p12_rn_l2/visuals/l2/mesh
            ‚îÇ  RigidBody: False, Collision: False
        ‚îú‚îÄ collisions (Type: Xform)
        ‚îÇ  Path: /World/e0509_model/e0509/gripper/gripper/hand/rh_p12_rn_l2/collisions
        ‚îÇ  RigidBody: False, Collision: False
          ‚îú‚îÄ l2 (Type: Xform)
          ‚îÇ  Path: /World/e0509_model/e0509/gripper/gripper/hand/rh_p12_rn_l2/collisions/l2
          ‚îÇ  RigidBody: False, Collision: False
            ‚îú‚îÄ mesh (Type: Mesh)
            ‚îÇ  Path: /World/e0509_model/e0509/gripper/gripper/hand/rh_p12_rn_l2/collisions/l2/mesh
            ‚îÇ  RigidBody: False, Collision: True
            ‚îÇ  ‚≠ê PHYSICS ENABLED
        ‚îú‚îÄ Xform (Type: Xform)
        ‚îÇ  Path: /World/e0509_model/e0509/gripper/gripper/hand/rh_p12_rn_l2/Xform
        ‚îÇ  RigidBody: False, Collision: False
      ‚îú‚îÄ rh_p12_rn_r1 (Type: Xform)
      ‚îÇ  Path: /World/e0509_model/e0509/gripper/gripper/hand/rh_p12_rn_r1
      ‚îÇ  RigidBody: True, Collision: False
      ‚îÇ  ‚≠ê PHYSICS ENABLED
        ‚îú‚îÄ visuals (Type: Xform)
        ‚îÇ  Path: /World/e0509_model/e0509/gripper/gripper/hand/rh_p12_rn_r1/visuals
        ‚îÇ  RigidBody: False, Collision: False
          ‚îú‚îÄ r1 (Type: Xform)
          ‚îÇ  Path: /World/e0509_model/e0509/gripper/gripper/hand/rh_p12_rn_r1/visuals/r1
          ‚îÇ  RigidBody: False, Collision: False
            ‚îú‚îÄ mesh (Type: Mesh)
            ‚îÇ  Path: /World/e0509_model/e0509/gripper/gripper/hand/rh_p12_rn_r1/visuals/r1/mesh
            ‚îÇ  RigidBody: False, Collision: False
        ‚îú‚îÄ collisions (Type: Xform)
        ‚îÇ  Path: /World/e0509_model/e0509/gripper/gripper/hand/rh_p12_rn_r1/collisions
        ‚îÇ  RigidBody: False, Collision: False
          ‚îú‚îÄ r1 (Type: Xform)
          ‚îÇ  Path: /World/e0509_model/e0509/gripper/gripper/hand/rh_p12_rn_r1/collisions/r1
          ‚îÇ  RigidBody: False, Collision: False
            ‚îú‚îÄ mesh (Type: Mesh)
            ‚îÇ  Path: /World/e0509_model/e0509/gripper/gripper/hand/rh_p12_rn_r1/collisions/r1/mesh
            ‚îÇ  RigidBody: False, Collision: True
            ‚îÇ  ‚≠ê PHYSICS ENABLED
      ‚îú‚îÄ rh_p12_rn_r2 (Type: Xform)
      ‚îÇ  Path: /World/e0509_model/e0509/gripper/gripper/hand/rh_p12_rn_r2
      ‚îÇ  RigidBody: True, Collision: False
      ‚îÇ  ‚≠ê PHYSICS ENABLED
        ‚îú‚îÄ visuals (Type: Xform)
        ‚îÇ  Path: /World/e0509_model/e0509/gripper/gripper/hand/rh_p12_rn_r2/visuals
        ‚îÇ  RigidBody: False, Collision: False
          ‚îú‚îÄ r2 (Type: Xform)
          ‚îÇ  Path: /World/e0509_model/e0509/gripper/gripper/hand/rh_p12_rn_r2/visuals/r2
          ‚îÇ  RigidBody: False, Collision: False
            ‚îú‚îÄ mesh (Type: Mesh)
            ‚îÇ  Path: /World/e0509_model/e0509/gripper/gripper/hand/rh_p12_rn_r2/visuals/r2/mesh
            ‚îÇ  RigidBody: False, Collision: False
        ‚îú‚îÄ collisions (Type: Xform)
        ‚îÇ  Path: /World/e0509_model/e0509/gripper/gripper/hand/rh_p12_rn_r2/collisions
        ‚îÇ  RigidBody: False, Collision: False
          ‚îú‚îÄ r2 (Type: Xform)
          ‚îÇ  Path: /World/e0509_model/e0509/gripper/gripper/hand/rh_p12_rn_r2/collisions/r2
          ‚îÇ  RigidBody: False, Collision: False
            ‚îú‚îÄ mesh (Type: Mesh)
            ‚îÇ  Path: /World/e0509_model/e0509/gripper/gripper/hand/rh_p12_rn_r2/collisions/r2/mesh
            ‚îÇ  RigidBody: False, Collision: True
            ‚îÇ  ‚≠ê PHYSICS ENABLED
        ‚îú‚îÄ Xform (Type: Xform)
        ‚îÇ  Path: /World/e0509_model/e0509/gripper/gripper/hand/rh_p12_rn_r2/Xform
        ‚îÇ  RigidBody: False, Collision: False

========== Creating Surface Gripper ==========
  Using end_effector for Surface Gripper: /World/e0509_model/e0509/gripper/gripper/hand/rh_p12_rn_r2
  ‚ÑπÔ∏è  This is the actual gripper center (between fingers)

  ‚úì SurfaceGripperWrapper created
    Using existing USD prim at: /World/e0509_model/SurfaceGripper
    End effector: /World/e0509_model/e0509/gripper/gripper/hand/rh_p12_rn_r2
    ‚ö†Ô∏è  GripperView will be initialized in initialize() (after world.reset())

  ‚úì Surface Gripper setup complete
  ‚ÑπÔ∏è  Gripper will automatically detect and grasp nearby objects
  ‚ÑπÔ∏è  Move link_6 close to the object and send gripper command

  Initializing gripper after world reset...

  üîß Initializing Surface Gripper (after world.reset())...
    Checking existing Surface Gripper prim in USD...
    ‚úì Found existing prim: /World/e0509_model/SurfaceGripper
    ‚úì Attachment points from USD (2 finger links):
      1. /World/e0509_model/D6_joint/D6Joint
      2. /World/e0509_model/D6_joint/D6Joint_01
    Creating GripperView (connecting to USD prim)...

  ‚úì GripperView initialized
    Path: /World/e0509_model/SurfaceGripper
    Max grip distance: 0.2m (20.0cm)
    Coaxial force limit: 1e4 N (10000 N)
    Shear force limit: 1e4 N (10000 N)
    Retry interval: 0.1 s
  ‚úì Gripper initialization complete!
Ready. /joint_input ‚Üí set joints, /joint_pos ‚Üí current joints, /gripper_command ‚Üí grasp/release. Press Ctrl+C to stop.

Gripper Command Usage:
  ros2 topic pub /gripper_command std_msgs/msg/Int32 '{data: 1}'  # Close (grasp)
  ros2 topic pub /gripper_command std_msgs/msg/Int32 '{data: 0}'  # Open (release)
  [GRIPPER] Attempting to grasp...
  [DEBUG] SurfaceGripper prim valid: True
  [GRIPPER] ‚úì Close command sent
  [GRIPPER] ‚ÑπÔ∏è  Will grasp objects within 20.0cm
  [GRIPPER] üéØ ATTACHED! Gripped objects: ['/World/ikea/nova_carter/move_props/sorting_beaker_red/Geometry/sm_beaker_500ml_a01_01']
  [GRIPPER] Status: 2 (1=closed/attached)
  [GRIPPER] Already closed
  [GRIPPER] Already closed
  [GRIPPER] Already closed
  [GRIPPER] Already closed
  [GRIPPER] Already closed
  [GRIPPER] Already closed
  [GRIPPER] Already closed
  [GRIPPER] Already closed
  [GRIPPER] Already closed
  [GRIPPER] Already closed
  [GRIPPER] Already closed
  [GRIPPER] Already closed
  [GRIPPER] Already closed
  [GRIPPER] Already closed
  [GRIPPER] Already closed
  [GRIPPER] Already closed
  [GRIPPER] Already closed
  [GRIPPER] Already closed
  [GRIPPER] Already closed
  [GRIPPER] Already closed
  [GRIPPER] Already closed
  [GRIPPER] Already closed
  [GRIPPER] Already closed
  [GRIPPER] Already closed
  [GRIPPER] Already closed
  [GRIPPER] Already closed
  [GRIPPER] Already closed
  [GRIPPER] Already closed
  [GRIPPER] Already closed
  [GRIPPER] Already closed
  [GRIPPER] Already closed
  [GRIPPER] Already closed
  [GRIPPER] Already closed
  [GRIPPER] Already closed
  [GRIPPER] Already closed
  [GRIPPER] Already closed
  [GRIPPER] Already closed
  [GRIPPER] Already closed
  [GRIPPER] Already closed
  [GRIPPER] Already closed
  [GRIPPER] Already closed
  [GRIPPER] Already closed
  [GRIPPER] Already closed
  [GRIPPER] Already closed
  [GRIPPER] Already closed
  [GRIPPER] Already closed
  [GRIPPER] Already closed
  [GRIPPER] Already closed
  [GRIPPER] Already closed
  [GRIPPER] Already closed
  [GRIPPER] Already closed
  [GRIPPER] Already closed
  [GRIPPER] Already closed
  [GRIPPER] Already closed
  [GRIPPER] Already closed
  [GRIPPER] Already closed
  [GRIPPER] Already closed
  [GRIPPER] Already closed
  [GRIPPER] Already closed
  [GRIPPER] Already closed
  [GRIPPER] Already closed
  [GRIPPER] Already closed
  [GRIPPER] Already closed
  [GRIPPER] Already closed
  [GRIPPER] Already closed
  [GRIPPER] Already closed
  [GRIPPER] Already closed
  [GRIPPER] Already closed
  [GRIPPER] Already closed
  [GRIPPER] Already closed
  [GRIPPER] Already closed
  [GRIPPER] Already closed
  [GRIPPER] Already closed
  [GRIPPER] Already closed
  [GRIPPER] Already closed
  [GRIPPER] Already closed
  [GRIPPER] Already closed
  [GRIPPER] Releasing object...
  [GRIPPER] ‚úì Open command sent
  [GRIPPER] Already open
  [GRIPPER] Already open
